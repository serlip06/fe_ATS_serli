<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - User</title>

   <!-- Favicon -->
   <link rel="icon" type="image/png" sizes="32x32" href="https://cdn-icons-png.flaticon.com/512/4312/4312094.png">
   

    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="/js/temp/keranjang.js"></script>
    <script defer src="/js/temp/keranjang.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <!-- Links -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Sixtyfour+Convergence&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant:ital,wght@0,300..700;1,300..700&family=Sixtyfour+Convergence&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant:ital,wght@0,300..700;1,300..700&family=Nabla&family=Sixtyfour+Convergence&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Cormorant:ital,wght@0,300..700;1,300..700&family=Nabla&family=Sixtyfour+Convergence&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }
    #notification-panel {
      display: none;
    }

    body {
    
      padding: 20px;
      background-color: #f9f9f9;
    }

    .bg-white {
      background-color: white;
    }

    .rounded {
      border-radius: 8px;
    }

    .shadow {
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .flex {
      display: flex;
    }

    .items-center {
      align-items: center;
    }

    .space-x-4 > * + * {
      margin-left: 16px;
    }

    .hover\:bg-gray-300:hover {
      background-color: #e2e2e2;
    }

    .hover\:underline:hover {
      text-decoration: underline;
    }

    img {
      max-width: 100%;
      height: auto;
    }

    a#logoutButton:hover {
      background-color: #ffe5e5; /* Warna latar merah muda saat hover */
      color: #ff0000; /* Teks merah */
  }
  
  </style>
</head>
<body class="bg-gray-100">
  <div class="flex h-screen">
    <!-- Sidebar -->
    <aside class="w-64 bg-white text-black flex flex-col shadow-md">
      <div class="p-6 text-center border-b border-gray-300">
        <div class="flex">
          <a href="index.html" class="mr-4">
              <img src="./jpg/diet_706195.png" alt="Food Icon" class="w-12 h-12">
          </a>
          <a href="index.html" class="mr-4">
              <img src="./jpg/diet_561611.png" alt="Food Icon" class="w-12 h-12">
          </a>
          <a href="index.html" class="mr-4">
              <img src="./jpg/fast-food_737967.png" alt="Food Icon" class="w-12 h-12">
          </a>
      </div>
      
      </div>
      <nav class="mt-6 space-y-4">
        <a href="#" id="toggle-pesanan" class="flex items-center px-6 py-3 hover:bg-gray-100 transition duration-200">
          <span class="material-icons text-blue-700 mr-3">store</span>
          <span class="font-medium">Pesanan</span> 
      </a>
        
        <!-- <a href="#" class="flex items-center px-6 py-3 hover:bg-gray-100 transition duration-200">
          <span class="material-icons text-blue-700 mr-3">list_alt</span>
          <span class="font-medium">Riwayat Pesanan</span>
        </a> -->
        <a href="#keranjang" class="flex items-center px-6 py-3 hover:bg-gray-100 transition duration-200" id="toggleKeranjang">
          <span class="material-icons text-blue-700 mr-3">shopping_cart</span>
          <span class="font-medium">Keranjang</span>
        </a>
        
        <!-- <a href="#" class="flex items-center px-6 py-3 hover:bg-gray-100 transition duration-200">
          <span class="material-icons text-blue-700 mr-3">favorite</span>
          <span class="font-medium">Menu Favorit</span>
        </a> -->

        <button id="openPembayaran">
          
        </button>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-6">
      <!-- Top Bar -->
      <div class="flex justify-between items-center mb-6">
        <!-- Profile Info -->
        <div class="flex items-center space-x-4">
          <div class="relative">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR81iX4Mo49Z3oCPSx-GtgiMAkdDop2uVmVvw&s" alt="Profile" class="w-16 h-16 rounded-full border-2 border-blue-700">
            <div id="notification-indicator" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">
              !
            </div>
          </div>
          <div>
            <h2 class="text-xl font-semibold">Muhammad Qinthar</h2>
          
          </div>
        </div>
        <!-- Actions -->
        <div class="flex items-center space-x-4">
          <a href="./pagemakan.html" class="text-blue-700 hover:underline">Back</a>
          <a id="logoutButton" class="text-red hover:underline border border-red-500 px-3 py-1 rounded cursor-pointer">Logout</a>
          <button id="toggle-notifications" class="bg-gray-200 text-blue-700 px-4 py-2 rounded hover:bg-gray-300">
            Lihat Notifikasi
          </button>
        </div>
      </div>

      <div class="container mx-auto mt-10">
          <!-- Notification Panel -->
          <div id="notification-panel" class="mb-6 bg-white p-4 rounded shadow">
            <h3 class="text-lg font-semibold mb-4">Notifikasi</h3>
            <!-- Konten notifikasi akan dimuat oleh JavaScript -->
            <div class="bg-gray-200 p-4 rounded">
              <p class="text-sm text-gray-600">Memuat notifikasi produk terbaru...</p>
            </div>
          </div>
        </div>
<!-- Main Content Placeholder -->
<div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-2xl transition-shadow duration-300 mb-6">
  <p class="mt-2 text-gray-600 dark:text-gray-600">Gunakan sidebar untuk menavigasi fitur-fitur dashboard, Selamat Berbelanja!</p>
</div>



<!-- My Orders Section -->
<!-- Section My Orders -->
<div class="mx-auto max-w-screen-xl px-4 2xl:px-0" id="my-orders-section" style="display: none;">
  <div class="mx-auto max-w-5xl bg-white shadow-lg rounded-lg p-6">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-2xl font-semibold text-gray-900 dark:text-black sm:text-3xl">üì¶ My Orders</h2>
    </div>

    <div class="overflow-x-auto">
      <table class="w-full border-collapse rounded-lg overflow-hidden shadow-md">
        <thead>
          <tr class="bg-indigo-600 text-white text-left">
            <th class="px-4 py-3">ID Transaksi</th>
            <th class="px-4 py-3">Tanggal</th>
           
            <th class="px-4 py-3">Total Harga</th>
            <th class="px-4 py-3">Metode Pembayaran</th>
            <th class="px-4 py-3">Alamat</th>
            <th class="px-4 py-3">Status</th>
          </tr>
        </thead>
        <tbody id="transaksi-table" class="bg-white divide-y divide-gray-200">
          <tr>
            <td colspan="7" class="text-center py-6 text-gray-500">‚è≥ Memuat data...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


</div>


<!-- Keranjang Modal -->
<div id="keranjang" class="relative z-10 hidden" aria-labelledby="slide-over-title" role="dialog" aria-modal="true">
  <div class="fixed inset-0 bg-gray-500/50" aria-hidden="true"></div>
  <div class="fixed inset-0 overflow-hidden">
    <div class="absolute inset-0 overflow-hidden">
      <div class="pointer-events-none fixed inset-y-0 right-0 flex max-w-full">
        <div class="pointer-events-auto w-screen max-w-md">
          <div class="flex h-full flex-col overflow-y-scroll bg-white shadow-xl">
            <!-- Header -->
            <div class="flex items-center justify-between px-4 py-3 bg-indigo-600 text-white">
              <h2 class="text-lg font-medium" id="slide-over-title">Keranjang Anda</h2>
              <button type="button" class="p-2 hover:bg-indigo-700 rounded-full" id="closeKeranjang">
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
            <!-- Konten -->
            <div class="flex-1 overflow-y-auto px-4 py-4">
              <ul id="keranjangList" class="divide-y divide-gray-200">
                <!-- Data akan dimuat di sini -->
              </ul>
            </div>
            <!-- Footer -->
            <div class="border-t px-4 py-4">
              <div class="flex justify-between text-base font-medium text-gray-800">
              <p>Subtotal</p>
              <p id="subtotal">Rp 0</p>
            </div>

              <div class="mt-4">
                <!-- Tombol Checkout dengan indikator loading -->
                <div class="mt-4">
                  <!-- Tombol Checkout dengan indikator loading -->
                  <button id="checkoutButton" class="w-full bg-indigo-600 text-white rounded-md py-2 hover:bg-indigo-700 relative">
                    Checkout
                    <!-- Indikator loading yang tersembunyi -->
                    <span id="loadingIndicator" class="absolute left-1/2 transform -translate-x-1/2 text-white hidden">
                      <svg class="w-5 h-5 animate-spin" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 1 0 16 0 8 8 0 0 0-16 0Z"></path>
                      </svg>
                    </span>
                  </button>
                </div>
                
              </div>
              
              <div class="mt-2 text-sm text-center text-gray-500">
                <p>atau <a href="./pagemakan.html" class="text-indigo-600 hover:text-indigo-500">Lanjutkan Belanja</a></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Script untuk menampilkan dan menutup modal -->
<script>
  const modal = document.getElementById('keranjang');
  const closeButton = document.getElementById('closeKeranjang');
  
  // Fungsi untuk membuka modal
  function openModal() {
    modal.classList.remove('hidden');
  }
  
  // Fungsi untuk menutup modal
  closeButton.addEventListener('click', () => {
    modal.classList.add('hidden');
  });

  // Event listener untuk membuka modal, bisa ditambahkan pada tombol yang sesuai
  document.getElementById('openKeranjangButton').addEventListener('click', openModal);
</script>


<!-- pembayaran -->
  <!-- Panel Pembayaran -->
  <div id="pembayaran" class="relative z-10 hidden" aria-labelledby="slide-over-title" role="dialog" aria-modal="true">
    <div class="fixed inset-0 bg-gray-500/75 transition-opacity" aria-hidden="true"></div>
    <div class="fixed inset-0 overflow-hidden">
      <div class="absolute inset-0 overflow-hidden">
        <div class="pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10">
          <div class="pointer-events-auto w-screen max-w-md">
            <div class="flex h-full flex-col overflow-y-scroll bg-white shadow-xl">
              <div class="flex-1 overflow-y-auto px-4 py-6 sm:px-6">
                <div class="flex items-start justify-between">
                  <h2 class="text-lg font-medium text-gray-900" id="slide-over-title">Selamat Berbelanja!</h2>
                  <div class="ml-3 flex h-7 items-center">
                    <button type="button" class="relative -m-2 p-2 text-gray-400 hover:text-gray-500" id="closePembayaran">
                      <span class="absolute -inset-0.5"></span>
                      <span class="sr-only">Close panel</span>
                      <svg class="size-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                </div>

              <!-- Cart Items -->
    <div class="mt-8">
      <h2 class="text-xl font-bold mb-2">Produk yang Dipilih</h2>
      <div class="flow-root bg-gray-50 p-4 rounded-lg shadow-sm">
          <ul id="selectedItemsList" role="list" class="-my-6 divide-y divide-gray-200">
              <!-- Produk checkout akan dimasukkan di sini -->
          </ul>
  </div>

  <!-- Payment Details -->
  <div class="mt-10 p-6 bg-white shadow-lg rounded-lg">
    <h3 class="text-lg font-semibold text-gray-900 flex items-center">
        <svg class="w-6 h-6 text-indigo-600 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c1.104 0 2-.896 2-2s-.896-2-2-2-2 .896-2 2 .896 2 2 2zm-6 8h12M6 16v4m12-4v4"></path>
        </svg>
        Payment Details
    </h3>

    <!-- Metode Pembayaran -->
    <div class="flex space-x-4 mt-2">
      <!-- DANA -->
      <label class="flex flex-col items-center cursor-pointer p-3 border rounded-lg hover:bg-indigo-50 transition">
          <input type="radio" name="paymentMethod" class="payment-checkbox hidden" value="dana">
          <img src="https://www.linkqu.id/wp-content/uploads/2021/07/filedownload.png" 
               alt="DANA" class="w-7 h-7">
      </label>
  
      <!-- BNI -->
      <label class="flex flex-col items-center cursor-pointer p-3 border rounded-lg hover:bg-indigo-50 transition">
          <input type="radio" name="paymentMethod" class="payment-checkbox hidden" value="bni">
          <img src="https://upload.wikimedia.org/wikipedia/id/thumb/5/55/BNI_logo.svg/1024px-BNI_logo.svg.png" 
               alt="BNI" class="w-7 h-7">
      </label>
  
      <!-- Cash -->
      <label class="flex flex-col items-center cursor-pointer p-3 border rounded-lg hover:bg-indigo-50 transition">
          <input type="radio" name="paymentMethod" class="payment-checkbox hidden" value="cash">
          <img src="https://cdn-icons-png.flaticon.com/512/2203/2203159.png" 
               alt="Cash" class="w-7 h-7">
      </label>
  </div>
  
    </div>

   <!-- Total Amount -->
<label for="total" class="block mt-4 text-sm font-medium text-gray-700">Total Amount</label>
<div class="relative mt-1">
    <input type="text" id="total" name="total" value="Rp 0" readonly 
           class="w-full px-4 py-2 border rounded-md bg-gray-100 text-gray-700 font-semibold text-lg">
    <span class="absolute right-4 top-2 text-gray-500">Rp</span>
</div>


    <!-- Link Bukti Pembayaran -->
    <label for="payment-link" class="block mt-4 text-sm font-medium text-gray-700">Link Bukti Pembayaran</label>
    <input type="url" id="payment-link" name="payment-link" placeholder="Masukkan link bukti pembayaran" 
           class="w-full mt-1 px-4 py-2 border rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none">

    <!-- Delivery Option -->
    <div class="mt-6">
        <label class="flex items-center cursor-pointer">
            <input type="checkbox" id="delivery-option" class="hidden">
            <span class="w-6 h-6 inline-block border rounded-md flex items-center justify-center transition bg-gray-200">
                <svg id="check-icon" class="w-4 h-4 text-white hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-3-3a1 1 0 111.414-1.414L9 11.586l6.293-6.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
            </span>
            <span class="ml-2 text-gray-800 font-medium">Diantar?</span>
        </label>

        <div id="alamat-container" class="mt-4 hidden transition-all duration-300">
            <label for="alamat" class="block text-sm font-medium text-gray-700">Alamat Pengiriman</label>
            <textarea id="alamat" name="alamat" rows="3" 
                      class="mt-1 w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none"></textarea>
        </div>
    </div>
</div>


  <!-- Checkout Button -->
  <div class="border-t px-4 py-6">
      <button id="confirmCheckout" class="w-full bg-indigo-600 text-white py-3">Confirm Pesanan Anda</button>
  </div>

  <script>
      document.getElementById("delivery-option").addEventListener("change", function() {
          document.getElementById("alamat-container").classList.toggle("hidden", !this.checked);
      });
  </script>

<script>
  // Tambahkan event listener untuk checkbox "Diantar?"
  const deliveryCheckbox = document.getElementById("delivery-option");
  const alamatContainer = document.getElementById("alamat-container");

  deliveryCheckbox.addEventListener("change", function() {
    if (deliveryCheckbox.checked) {
      alamatContainer.classList.remove("hidden"); // Menampilkan text box untuk alamat
    } else {
      alamatContainer.classList.add("hidden"); // Menyembunyikan text box untuk alamat
    }
  });
</script>


              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
 <!-- ===== footer ===== -->
 <div class= " px-4 pt-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8">
  <div class="grid gap-16 row-gap-10 mb-8 lg:grid-cols-6">
    <div class="md:max-w-md lg:col-span-2">
      <a href="/" aria-label="Go home" title="Company" class="inline-flex items-center">
        <svg class="w-8 text-deep-purple-accent-400" viewBox="0 0 24 24" stroke-linejoin="round" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" stroke="currentColor" fill="none">
          <rect x="3" y="1" width="7" height="12"></rect>
          <rect x="3" y="17" width="7" height="6"></rect>
          <rect x="14" y="1" width="7" height="6"></rect>
          <rect x="14" y="11" width="7" height="12"></rect>
        </svg>
        <h1 style="font-family: 'Sixtyfour Convergence', sans-serif;" class="font-bold text-1xl">
          <a href="index.html">
              <span style="display: block;">Kantin Modern</span>
           
          </a>
      </h1>
      </a>
      <div class="mt-4 lg:max-w-sm">
        <p class="text-sm text-gray-800">
          Kantin Modern menyediakan berbagai pilihan makanan dan minuman dengan harga terjangkau yang disesuaikan dengan budget pelajar, pekerja, dan semua kalangan, sehingga menjadi tempat favorit untuk menikmati hidangan lezat tanpa khawatir soal biaya.
        </p>
      
      </div>
    </div>
    <div class="grid grid-cols-2 gap-5 row-gap-8 lg:col-span-4 md:grid-cols-4">
      <div>
        <p class="font-semibold tracking-wide text-gray-800">Category</p>
        <ul class="mt-2 space-y-2">
          <li>
            <a href="/" class="text-gray-600 transition-colors duration-300 hover:text-deep-purple-accent-400">Makanan</a>
          </li>
          <li>
            <a href="/" class="text-gray-600 transition-colors duration-300 hover:text-deep-purple-accent-400">Minuman</a>
          </li>
         
        </ul>
      </div>
      <div>
        <p class="font-semibold tracking-wide text-gray-800">Business</p>
        <ul class="mt-2 space-y-2">
          <li>
            <a href="/" class="text-gray-600 transition-colors duration-300 hover:text-deep-purple-accent-400">Web</a>
          </li>
          <li>
            <a href="/" class="text-gray-600 transition-colors duration-300 hover:text-deep-purple-accent-400">eCommerce</a>
          </li>
          <li>
            <a href="/" class="text-gray-600 transition-colors duration-300 hover:text-deep-purple-accent-400">Business</a>
          </li>
          <li>
            <a href="/" class="text-gray-600 transition-colors duration-300 hover:text-deep-purple-accent-400">Entertainment</a>
          </li>
         
        </ul>
      </div>
      <div>
        <p class="font-semibold tracking-wide text-gray-800">Apples</p>
        <ul class="mt-2 space-y-2">
          <li>
            <a href="/" class="text-gray-600 transition-colors duration-300 hover:text-deep-purple-accent-400">Media</a>
          </li>
          <li>
            <a href="/" class="text-gray-600 transition-colors duration-300 hover:text-deep-purple-accent-400">Brochure</a>
          </li>
          <li>
            <a href="/" class="text-gray-600 transition-colors duration-300 hover:text-deep-purple-accent-400">Nonprofit</a>
          </li>
         
          <li>
            <a href="/" class="text-gray-600 transition-colors duration-300 hover:text-deep-purple-accent-400">Projects</a>
          </li>
        </ul>
      </div>
      <div>
        <p class="font-semibold tracking-wide text-gray-800">Cherry</p>
        <ul class="mt-2 space-y-2">
          <li>
            <a href="/" class="text-gray-600 transition-colors duration-300 hover:text-deep-purple-accent-400">Infopreneur</a>
          </li>
          <li>
            <a href="/" class="text-gray-600 transition-colors duration-300 hover:text-deep-purple-accent-400">Personal</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="flex flex-col justify-between pt-5 pb-10 border-t sm:flex-row">
    <p class="text-sm text-gray-600">
   Kantin Modern
    </p>
    <div class="flex items-center mt-4 space-x-4 sm:mt-0">
      <a href="/" class="text-gray-500 transition-colors duration-300 hover:text-deep-purple-accent-400">
        <svg viewBox="0 0 24 24" fill="currentColor" class="h-5">
          <path
            d="M24,4.6c-0.9,0.4-1.8,0.7-2.8,0.8c1-0.6,1.8-1.6,2.2-2.7c-1,0.6-2,1-3.1,1.2c-0.9-1-2.2-1.6-3.6-1.6 c-2.7,0-4.9,2.2-4.9,4.9c0,0.4,0,0.8,0.1,1.1C7.7,8.1,4.1,6.1,1.7,3.1C1.2,3.9,1,4.7,1,5.6c0,1.7,0.9,3.2,2.2,4.1 C2.4,9.7,1.6,9.5,1,9.1c0,0,0,0,0,0.1c0,2.4,1.7,4.4,3.9,4.8c-0.4,0.1-0.8,0.2-1.3,0.2c-0.3,0-0.6,0-0.9-0.1c0.6,2,2.4,3.4,4.6,3.4 c-1.7,1.3-3.8,2.1-6.1,2.1c-0.4,0-0.8,0-1.2-0.1c2.2,1.4,4.8,2.2,7.5,2.2c9.1,0,14-7.5,14-14c0-0.2,0-0.4,0-0.6 C22.5,6.4,23.3,5.5,24,4.6z"
          ></path>
        </svg>
      </a>
      <a href="/" class="text-gray-500 transition-colors duration-300 hover:text-deep-purple-accent-400">
        <svg viewBox="0 0 30 30" fill="currentColor" class="h-6">
          <circle cx="15" cy="15" r="4"></circle>
          <path
            d="M19.999,3h-10C6.14,3,3,6.141,3,10.001v10C3,23.86,6.141,27,10.001,27h10C23.86,27,27,23.859,27,19.999v-10   C27,6.14,23.859,3,19.999,3z M15,21c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S18.309,21,15,21z M22,9c-0.552,0-1-0.448-1-1   c0-0.552,0.448-1,1-1s1,0.448,1,1C23,8.552,22.552,9,22,9z"
          ></path>
        </svg>
      </a>
      <a href="/" class="text-gray-500 transition-colors duration-300 hover:text-deep-purple-accent-400">
        <svg viewBox="0 0 24 24" fill="currentColor" class="h-5">
          <path
            d="M22,0H2C0.895,0,0,0.895,0,2v20c0,1.105,0.895,2,2,2h11v-9h-3v-4h3V8.413c0-3.1,1.893-4.788,4.659-4.788 c1.325,0,2.463,0.099,2.795,0.143v3.24l-1.918,0.001c-1.504,0-1.795,0.715-1.795,1.763V11h4.44l-1,4h-3.44v9H22c1.105,0,2-0.895,2-2 V2C24,0.895,23.105,0,22,0z"
          ></path>
        </svg>
      </a>
    </div>
  </div>
</div>
<!-- FOOTER SESSION END -->



  <script>
    document.getElementById('toggle-notifications').addEventListener('click', function() {
      const panel = document.getElementById('notification-panel');
      const indicator = document.getElementById('notification-indicator');
      if (panel.style.display === 'none') {
        panel.style.display = 'block';
        indicator.style.display = 'none';
      } else {
        panel.style.display = 'none';
      }
    });

        // Ambil elemen tombol dan modal
    const toggleKeranjangButton = document.getElementById('toggleKeranjang');
    const keranjangModal = document.getElementById('keranjang');
    const closeKeranjangButton = document.getElementById('closeKeranjang');

    // Fungsi untuk menampilkan modal keranjang
    toggleKeranjangButton.addEventListener('click', (event) => {
      event.preventDefault();  // Mencegah peramban berpindah ke link
      keranjangModal.classList.remove('hidden'); // Tampilkan modal
      window.location.hash = "keranjang"; // Gulirkan halaman ke elemen #keranjang
    });

    // Fungsi untuk menutup modal keranjang
    closeKeranjangButton.addEventListener('click', () => {
      keranjangModal.classList.add('hidden'); // Sembunyikan modal
    });

     // Handle panel open and close
     document.getElementById('openPembayaran').addEventListener('click', function () {
      document.getElementById('pembayaran').classList.remove('hidden');
    });

    document.getElementById('closePembayaran').addEventListener('click', function () {
      document.getElementById('pembayaran').classList.add('hidden');
    });


    // Open pembayaran panel when clicking "Checkout" button
    document.getElementById('checkoutButton').addEventListener('click', function (event) {
      event.preventDefault(); // Prevent default link behavior
      document.getElementById('pembayaran').classList.remove('hidden');
    });

    // Close pembayaran panel
    document.getElementById('closePembayaran').addEventListener('click', function () {
      document.getElementById('pembayaran').classList.add('hidden');
    });
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Mengambil id_user dari localStorage
      const idUser = localStorage.getItem("id");
      if (!idUser) {
          console.error("ID User tidak ditemukan di localStorage.");
          return;
      }
  
      // Mengambil data produk keranjang dari API
      fetch("https://ats-714220023-serlipariela-38bba14820aa.herokuapp.com/chartitem")
          .then(response => response.json())
          .then(data => {
              // Filter data produk berdasarkan id_user
              const userCartItems = data.filter(item => item.id_user === idUser);
  
              // Hitung jumlah item dalam keranjang untuk user tertentu
              const cartItemCount = userCartItems.length;
              updateCartItemCount(cartItemCount); // Memperbarui jumlah produk pada ikon keranjang
          })
          .catch(error => {
              console.error("Terjadi kesalahan saat mengambil data keranjang:", error);
          });
  });
  
  function updateCartItemCount(count) {
      const cartIcon = document.getElementById("toggleKeranjang");
      
      // Ganti elemen cartIcon dengan gambar PNG jika belum ada
      let cartImageElement = document.getElementById("cart-icon-image");
      if (!cartImageElement) {
          cartImageElement = document.createElement("img");
          cartImageElement.id = "cart-icon-image";
          cartImageElement.src = "https://cdn-icons-png.flaticon.com/512/3639/3639167.png"; // Gambar keranjang
          cartImageElement.alt = "Keranjang";
          cartImageElement.className = "w-6 h-6"; // Ukuran gambar
          cartIcon.appendChild(cartImageElement); // Menambahkan gambar ke ikon keranjang
      }
  
      // Cek apakah elemen jumlah sudah ada, jika ada update, jika belum buat
      let itemCountElement = document.getElementById("cart-item-count");
      if (!itemCountElement) {
          itemCountElement = document.createElement("span");
          itemCountElement.id = "cart-item-count";
          itemCountElement.className = "ml-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center";
          cartIcon.appendChild(itemCountElement); // Menambahkan elemen jumlah ke ikon keranjang
      }
  
      // Menampilkan jumlah produk di keranjang
      itemCountElement.textContent = count;
  }
  
  </script>
  <script>

    const urlAPI = "https://ats-714220023-serlipariela-38bba14820aa.herokuapp.com/produk";

    async function loadLatestProduct() {
      try {
        console.log("Mengambil data produk...");
        const response = await fetch(urlAPI);
        if (!response.ok) throw new Error(`Error ${response.status}: ${response.statusText}`);
    
        const products = await response.json();
        console.log("Data produk dari API:", products);
    
        // Validasi bahwa data adalah array
        const productsArray = Array.isArray(products) ? products : products.data || [];
        if (!Array.isArray(productsArray)) throw new Error("Data produk tidak valid");
    
        // Filter produk valid berdasarkan created_at
        const validProducts = productsArray.filter(product => {
          if (!product.created_at) return false;
          const parsedDate = Date.parse(product.created_at); // Validasi format tanggal
          return !isNaN(parsedDate);
        });
    
        console.log("Produk valid sebelum disortir:", validProducts);
    
        // Urutkan produk berdasarkan created_at (terlama di atas, terbaru di bawah)
        validProducts.sort((a, b) => {
          const dateA = new Date(a.created_at);
          const dateB = new Date(b.created_at);
          return dateA - dateB; // Urutkan terlama ke terbaru
        });
    
        console.log("Produk setelah disortir (terbaru di bawah):", validProducts);
    
        // Ambil produk terakhir (terbaru)
        const latestProduct = validProducts[validProducts.length - 1];
    
        const notificationPanel = document.getElementById("notification-panel");
    
        if (latestProduct) {
          const latestProductHTML = `
            <div class="p-4 bg-green-100 rounded">
              <h4 class="text-md font-bold text-green-700">Produk Terbaru: ${latestProduct.nama_produk}</h4>
              <p class="text-sm text-gray-600">${latestProduct.deskripsi}</p>
              <p class="text-sm font-semibold text-gray-800">Harga: Rp${latestProduct.harga.toLocaleString()}</p>
          <p class="text-xs text-gray-600 mt-2">
            Ayo Beli Sebelum Kehabisan!
            <a href="./pagemakan.html" class="text-blue-600 hover:underline">Click</a>
          </p>

              <p class="text-xs text-gray-400 mt-2">Dibuat pada: ${new Date(latestProduct.created_at).toLocaleString()}</p>
            </div>
          `;
          notificationPanel.innerHTML = `
            <h3 class="text-lg font-semibold mb-4">Notifikasi</h3>
            ${latestProductHTML}
          `;
        } else {
          throw new Error("Tidak ada produk yang ditemukan.");
        }
      } catch (error) {
        console.error("Terjadi kesalahan:", error.message);
        document.getElementById("notification-panel").innerHTML = `
          <h3 class="text-lg font-semibold mb-4">Notifikasi</h3>
          <p class="text-sm text-red-600">Gagal memuat notifikasi produk: ${error.message}</p>
        `;
      }
    }
    
    document.addEventListener("DOMContentLoaded", loadLatestProduct);
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Ambil username dari localStorage
      const username = localStorage.getItem('username');
  
      // Ambil elemen <h2> berdasarkan kelasnya
      const greetingElement = document.querySelector('.text-xl.font-semibold');
  
      // Jika username tersedia, tampilkan
      if (username) {
          greetingElement.innerHTML = `Halo, ${username} üëã`;
      } else {
          // Jika tidak ada username, tampilkan teks default
          greetingElement.innerHTML = 'Halo, Guest';
      }
  });
  
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const logoutButton = document.getElementById("logoutButton");
  
      logoutButton.addEventListener("click", function () {
          // Hapus data dari local storage
          localStorage.removeItem("username");
          localStorage.removeItem("role");
  
          // Redirect ke halaman login
          window.location.href = "./index.html";
      });
  });
  
  </script>
  
  <script>
    // Fungsi untuk menghitung subtotal berdasarkan checkbox yang dicentang
function updateSubtotal() {
  const checkedCheckboxes = document.querySelectorAll(".checkbox-item:checked");
  const subtotalElement = document.querySelector("#subtotal");
  const totalInput = document.querySelector("#total");

  let subtotal = 0;
  const selectedItems = [];

  checkedCheckboxes.forEach(checkbox => {
      const price = parseInt(checkbox.dataset.price) || 0;  // Pastikan harga valid
      const quantity = parseInt(checkbox.dataset.quantity) || 1; // Pastikan kuantitas valid
      const id = checkbox.dataset.id; // Ambil ID dari data-attribute

      // Periksa validitas ID, harga, dan kuantitas
      if (!id || price <= 0 || quantity <= 0) {
          console.warn("Data tidak valid untuk item dengan ID:", id);
          return; // Lewatkan item ini jika ada data yang tidak valid
      }

      subtotal += price * quantity;

      // Menambahkan item yang dipilih untuk ditampilkan di console
      selectedItems.push({
          id: id,
          harga: price,
          quantity: quantity
      });
  });

  // Tampilkan subtotal dalam elemen teks
  subtotalElement.textContent = `Rp ${subtotal.toLocaleString()}`;

  // Tampilkan subtotal dalam input field dengan format mata uang
  totalInput.value = `Rp ${subtotal.toLocaleString()}`;
}

// Menambahkan event listener ke setiap checkbox untuk menghitung subtotal
function addCheckboxListeners() {
  const checkboxes = document.querySelectorAll(".checkbox-item");
  checkboxes.forEach(checkbox => {
      checkbox.addEventListener("change", updateSubtotal);
  });
}

// Panggil fungsi untuk menambahkan event listener
addCheckboxListeners();

  </script>
  <script>
    document.getElementById('toggle-pesanan').addEventListener('click', function(event) {
      event.preventDefault(); // Mencegah link untuk pergi ke halaman lain
  
      // Ambil elemen section yang akan ditoggle
      const myOrdersSection = document.getElementById('my-orders-section');
      
      // Toggle visibilitas section
      if (myOrdersSection.style.display === 'none' || myOrdersSection.style.display === '') {
          myOrdersSection.style.display = 'block'; // Menampilkan section
      } else {
          myOrdersSection.style.display = 'none'; // Menyembunyikan section
      }
  });
  
  </script>
  <script>
    document.getElementById("delivery-option").addEventListener("change", function () {
      const alamatContainer = document.getElementById("alamat-container");
      const checkIcon = document.getElementById("check-icon");
  
      if (this.checked) {
          alamatContainer.classList.remove("hidden");
          checkIcon.classList.remove("hidden");
          this.nextElementSibling.classList.add("bg-indigo-500");
      } else {
          alamatContainer.classList.add("hidden");
          checkIcon.classList.add("hidden");
          this.nextElementSibling.classList.remove("bg-indigo-500");
      }
  });
  
  </script>
 
  

  <script src="../js/temp/pembayaran.js"></script>
  <script src="../js/controller/get_user_transaksi.js"></script>
  <script src="../js/temp/keranjang.js"></script>
  <script src="../js/controller/delete_keranjang.js"></script>

</body>
</html>
