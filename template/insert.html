<!DOCTYPE html>
<html lang="en">
<head>
    <title>Homepage_admin</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap">
    <link rel="stylesheet" href="css/tailwind/tailwind.min.css">
    <link rel="icon" type="image/png" sizes="32x32" href="../shuffle-for-tailwind.png">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src=".../js/main.js"></script>

  <style>
    body {
        font-family: Arial, sans-serif;
    }

    .error {
        color: red;
        display: none;
        margin-bottom: 10px;
        padding: 10px;
        border-radius: 5px;
        background-color: #ffe6e6;
        border: 1px solid #ffcccc;
        display: flex;
        align-items: center;
        animation: fadeIn 0.5s ease-in-out;
    }

    .error span {
        margin-left: 5px;
    }

    .error-icon {
        font-size: 20px;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
</style>
</head>
<div class="min-h-screen p-6 bg-gray-100 flex items-center justify-center">
  <div class="container max-w-screen-lg mx-auto">
    <div>
      <h2 class="font-bold text-xl text-gray-600">KANTIN MODERN.</h2>
      <p class="text-gray-500 mb-6">Masukan Data Diri Anda </p>

      <div class="bg-white rounded shadow-lg p-4 px-4 md:p-8 mb-6">
        <div class="grid gap-4 gap-y-2 text-sm grid-cols-1 lg:grid-cols-3">
          <div class="text-gray-600">
            <p class="font-medium text-lg">Personal Details</p>
            <p>Please fill out all the fields.</p>
          </div>

          <div class="lg:col-span-2">
            <div class="grid gap-4 gap-y-2 text-sm grid-cols-1 md:grid-cols-5">
              <div class="md:col-span-5">
                <form id="personal_details_form">
                  <div id="full_name_error_message" class="error">
                    <div class="error-icon">⚠️</div>
                    <span>Nama hanya boleh berisi huruf!</span>
                  </div>
                  <label for="full_name">Nama</label>
                  <input id="full_name" type="text" name="full_name" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" />
              
                  <div id="phone_number_error_message" class="error">
                    <div class="error-icon">⚠️</div>
                    <span>Nomor HP hanya boleh berisi angka!</span>
                  </div>
                  <label for="phone_number">Nomor HP</label>
                  <input id="phone_number" type="text" name="phone_number" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" />
              
                  <label for="alamat">Alamat</label>
                  <input id="alamat" type="text" name="alamat" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" />
                
                  <label for="email">Email</label>
                  <input id="email" type="email" name="email" class="h-10 border mt-1 rounded px-4 w-full bg-gray-50" />
                  
                  <div class="md:col-span-5 text-right">
                    <div class="inline-flex items-end">
                      <button id="submit_button" type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Submit</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <a href="https://www.buymeacoffee.com/dgauderman" target="_blank" class="md:absolute bottom-0 right-0 p-4 float-right">
      <img src="https://www.buymeacoffee.com/assets/img/guidelines/logo-mark-3.svg" alt="Buy Me A Coffee" class="transition-all rounded-full w-14 -rotate-45 hover:shadow-sm shadow-lg ring hover:ring-4 ring-white">
    </a>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const fullNameInput = document.getElementById('full_name');
    const fullNameErrorMessage = document.getElementById('full_name_error_message');

    fullNameInput.addEventListener('input', function() {
      const value = fullNameInput.value;
      if (/[^a-zA-Z\s]/.test(value)) {
        fullNameErrorMessage.style.display = 'flex';
      } else {
        fullNameErrorMessage.style.display = 'none';
      }
    });

    const phoneNumberInput = document.getElementById('phone_number');
    const phoneNumberErrorMessage = document.getElementById('phone_number_error_message');

    phoneNumberInput.addEventListener('input', function() {
      const value = phoneNumberInput.value;
      if (/[^0-9]/.test(value)) {
        phoneNumberErrorMessage.style.display = 'flex';
      } else {
        phoneNumberErrorMessage.style.display = 'none';
      }
    });

    const form = document.getElementById('personal_details_form');
    form.addEventListener('submit', function(event) {
      event.preventDefault();

      const fullName = fullNameInput.value;
      const phoneNumber = phoneNumberInput.value;

      if (/[^a-zA-Z\s]/.test(fullName) || /[^0-9]/.test(phoneNumber)) {
        alert('Mohon perbaiki kesalahan pada form sebelum submit.');
        return;
      }

      const data = {
        nama: fullName,
        phone_number: phoneNumber,
        alamat: document.getElementById('alamat').value,
        email: document.getElementById('email').value
      };

      fetch('https://ats-714220023-serlipariela-38bba14820aa.herokuapp.com/insert', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      }).then(response => {
        if (response.ok) {
          alert('Data berhasil dikirim!');
          form.reset();
        } else {
          alert('Terjadi kesalahan saat mengirim data.');
        }
      }).catch(error => {
        alert('Terjadi kesalahan: ' + error.message);
      });
    });
  });
</script>
  <!-- <script type="module" src="../js/controller/post.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <script src="../js/charts-demo.js"></script> -->
</body>
</html>